<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KanjiArt</title>
    <meta name="description" content="insert description">

    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <style>
        @font-face {
            font-family: 'honyaji-reregular';
            src: url('honyaji-re-webfont.woff2') format('woff2'),
                url('honyaji-re-webfont.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }

        /* CSS Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            grid-auto-rows: minmax(50px, 1fr);
            width: 100vw;
            height: 100vh;
            user-select: none;
        }

        .grid-item {
            font-family: 'honyaji-reregular', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid #ccc;
            font-size: 1.8rem;
            color: #fafafa;
            aspect-ratio: 1/1;
            box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.3);
            text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.6),
                1px 1px 1px rgba(0, 0, 0, 0.4);
        }
    </style>
</head>

<body>

    <div class="grid" id="kanjiGrid"></div>

    <script>
        const kanji = ["日", "一", "二", "三", "十", "四", "五", "六", "七", "八", "九", "丸", "円", "〇", "人", "百", "千", "万", "口", "田", "目", "川", "月", "明", "曜", "火", "水", "木", "金", "土", "本", "東", "大", "小", "中", "生", "山", "出", "入", "下", "上", "止", "正", "足", "定", "手", "用", "無", "不", "回", "言", "舌", "話", "活", "行", "心", "耳", "又", "取", "身", "休", "体", "信", "付", "受", "以", "立", "部", "倍", "成", "代", "王", "玉", "宝", "国", "白", "皇", "全", "書", "事", "自", "貝", "見", "力", "刀", "切", "刃", "分", "公", "別", "長", "男", "女", "子", "好", "安", "案", "字", "学", "父", "文", "交", "校", "母", "毎", "海", "者", "工", "式", "弐", "武", "糸", "前", "後", "午", "牛", "年", "件", "条", "化", "花", "北", "比", "背", "車", "気", "汽", "性", "畑", "青", "麦", "素", "毒", "先", "洗", "元", "光", "去", "法", "走", "当", "思", "早", "草", "朝", "潮", "形", "発", "廃", "音", "意", "作", "昨", "雨", "電", "頁", "首", "道", "通", "乳", "豆", "頭", "予", "矛", "預", "句", "旬", "的", "約", "勿", "物", "方", "防", "面", "画", "両", "岡", "満", "顔", "産", "同", "向", "尚", "高", "圧", "地", "池", "他", "集", "進", "込", "斤", "近", "辺", "最", "皿", "血", "温", "湿", "爪", "瓜", "巾", "布", "市", "吊", "泉", "原", "源", "線", "綿", "絹", "錦", "願", "内", "肉", "猪", "豚", "家", "吾", "我", "語", "伝", "転", "芸", "会", "合", "今", "令", "念", "印", "命", "亡", "米", "粒", "和", "私", "広", "細", "林", "森", "松", "竹", "都", "京", "政", "府", "戸", "所", "至", "致", "屋", "室", "古", "居", "局", "故", "胡", "湖", "固", "箇", "個", "且", "組", "夕", "外", "多", "汐", "名", "天", "未", "末", "味", "来", "新", "親", "欠", "次", "席", "度", "渡", "限", "銀", "根", "良", "郎", "廊", "食", "飲", "官", "館", "宿", "犬", "太", "器", "凶", "区", "図", "番", "号", "品", "楽", "薬", "周", "週", "調", "束", "整", "数", "類", "示", "禁", "礼", "社", "申", "神", "員", "質", "党", "堂", "常", "賞", "償", "掌", "覚", "悟", "感", "央", "映", "決", "快", "英", "並", "平", "半", "馬", "尺", "尽", "駅", "鳥", "島", "角", "虫", "触", "解", "独", "店", "占", "点", "士", "商", "買", "売", "続", "読", "共", "供", "洪", "昔", "冬", "寒", "春", "夏", "秋", "主", "住", "駐", "注", "志", "誌", "仕", "任", "支", "反", "坂", "阪", "飯", "返", "雑", "乱", "寸", "寺", "時", "持", "特", "待", "得", "侍", "詩", "即", "節", "筋", "等", "均", "季", "委", "穴", "空", "友", "有", "左", "右", "石", "若", "苦", "在", "存", "干", "刊", "汗", "竿", "利", "害", "益", "溢", "割", "憲", "羽", "翌", "習", "弓", "引", "強", "弱", "風", "己", "記", "紀", "改", "起", "姓", "由", "油", "井", "囲", "丼", "丁", "寧", "町", "灯", "庁", "貯", "易", "賜", "場", "湯", "門", "間", "閉", "開", "関", "問", "聞", "訪", "送", "券", "包", "巻", "圏", "勝", "戦", "単", "簡", "過", "骨", "昼", "夜", "液", "戒", "幾", "畿", "磯", "機", "械", "飛", "氏", "民", "紙", "低", "抵", "邸", "底", "巨", "臣", "基", "期", "毛", "尾", "育", "羊", "洋", "魚", "鮮", "蘇", "詳", "祥", "美", "業", "実", "養", "様", "企", "曲", "典", "興", "輿", "竜", "滝", "籠", "農", "濃", "豊", "吉", "詰", "結", "投", "役", "没", "設", "段", "殺", "刹", "刈", "絵", "給", "巴", "色", "声", "眉", "里", "理", "埋", "野", "黒", "墨", "童", "量", "重", "動", "働", "労", "協", "種", "亜", "悪", "要", "価", "必", "証", "歪", "否", "処", "拠", "計", "針", "総", "窓", "矢", "知", "医", "短", "失", "鉄", "夫", "朱", "株", "族", "旅", "遊", "施", "旋", "旗", "放", "激", "牧", "位", "泣", "笑", "専", "恵", "連", "軍", "運", "蓮", "隊", "呈", "程", "聖", "紐", "革", "靴", "鞄", "皮", "破", "彼", "波", "果", "課", "巣", "菓", "茶", "世", "葉", "棄", "緑", "録", "剥", "縁", "介", "界", "浮", "将", "奨", "状", "病", "症", "痛", "憶", "臆", "億", "視", "規", "則", "側", "測", "考", "老", "厚", "教", "完", "院", "奈", "宗", "祭", "際", "察", "祈", "祖", "助", "仲", "忠", "沖", "保", "呆", "守", "団", "対", "村", "才", "財", "材", "沈", "枕", "丈", "杖", "偉", "緯", "衛", "韓", "違", "抱", "砲", "泡", "丹", "舟", "船", "舶", "般", "搬", "盤", "歯", "冷", "齢", "少", "砂", "歩", "渉", "省", "相", "想", "称", "弥", "互", "務", "柔", "軟", "軌", "軒", "軸", "較", "庫", "蔵", "倉", "創", "告", "造", "衣", "依", "袋", "褒", "裏", "表", "現", "著", "制", "製", "初", "裸", "難", "准", "準", "備", "死", "葬", "列", "烈", "裂", "例", "刑", "型", "研", "厄", "危", "範", "怨", "宛", "碗", "腕", "却", "脚", "犯", "狂", "獄", "非", "排", "俳", "罪", "罰", "伴", "判", "評", "批", "師", "座", "坐", "卒", "率", "傘", "笠", "星", "汁", "斗", "料", "科", "然", "燃", "黙", "獣", "猟", "漁", "狩", "猛", "煙", "焼", "暁", "旧", "児", "赤", "変", "蛮", "恋", "愛", "憂", "優", "栗", "票", "標", "漂", "遷", "各", "客", "路", "格", "絡", "略", "閣", "落", "南", "西", "酒", "洒", "配", "酸", "猶", "尊", "遵", "導", "敬", "警", "驚", "散", "敢", "厳", "仏", "払", "拡", "可", "何", "苛", "荷", "河", "阿", "司", "伺", "詞", "飼", "冊", "嗣", "覗", "歌", "唄", "負", "敗", "責", "積", "債", "漬", "紡", "績", "具", "真", "直", "植", "殖", "値", "置", "県", "州", "洲", "接", "継", "断", "応", "床", "麻", "歴", "暦", "臨", "園", "遠", "与", "写", "移", "卸", "御", "複", "腹", "復", "往", "柱", "征", "従", "徒", "縦", "延", "伸", "紳", "縮", "誕", "廷", "庭", "艇", "展", "殿", "異", "翼", "累", "塁", "吏", "使", "史", "更", "便", "硬", "能", "態", "熊", "罷", "羅", "雲", "曇", "雪", "雷", "零", "震", "振", "久", "賑", "丘", "兵", "岳", "浜", "舎", "再", "虎", "寅", "演", "黄", "横", "構", "講", "購", "溝", "仮", "片", "版", "板", "販", "義", "議", "儀", "犠", "牲", "旨", "指", "揮", "輝", "刺", "策", "差", "着", "看", "到", "倒", "論", "倫", "輪", "輸", "諭", "愉", "癒", "台", "治", "冶", "療", "僚", "瞭", "寮", "始", "終", "了", "承", "蒸", "舞", "隣", "瞬", "夢", "枝", "技", "伎", "岐", "阜", "急", "争", "情", "清", "晴", "精", "請", "静", "浄", "算", "答", "符", "博", "縛", "簿", "薄", "采", "菜", "採", "彩", "杉", "街", "術", "述", "余", "除", "徐", "叙", "斜", "途", "塗", "漆", "仙", "垂", "乗", "兼", "剰", "睡", "眠", "郵", "錘", "華", "侵", "浸", "寝", "掃", "婦", "帰", "戻", "涙", "射", "謝", "討", "訂", "打", "撃", "拭", "試", "検", "験", "険", "倹", "剣", "谷", "欲", "浴", "容", "溶", "俗", "裕", "寛", "甘", "紺", "紅", "攻", "功", "巧", "朽", "枯", "汚", "弁", "昇", "登", "澄", "充", "銃", "統", "流", "硫", "盲", "忘", "忙", "荒", "慌", "望", "希", "稀", "括", "拘", "拾", "捨", "孤", "弧", "弾", "禅", "系", "係", "孫", "懸", "偏", "遍", "編", "篇", "普", "譜", "職", "織", "識", "殉", "退", "眼", "智", "仁", "忍", "認", "求", "救", "球", "屯", "純", "鈍", "召", "招", "沼", "紹", "詔", "勅", "昭", "照", "超", "越", "趣", "赴", "訃", "朴", "掛", "摘", "滴", "嫡", "適", "敵", "授", "援", "媛", "緩", "暖", "観", "勧", "権", "歓", "鶴", "確", "慢", "漫", "抑", "仰", "迎", "柳", "卵", "疎", "速", "遅", "辻", "迅", "加", "減", "滅", "威", "嚇", "或", "惑", "域", "収", "納", "献", "貢", "貪", "貰", "貧", "賃", "貸", "貨", "資", "賛", "替", "潜", "貿", "留", "溜", "賀", "架", "染", "梨", "傑", "貴", "潰", "遺", "遣", "追", "迫", "泊", "伯", "拍", "弔", "沸", "煮", "費", "弟", "第", "剃", "兄", "只", "税", "鋭", "説", "脱", "閲", "祝", "況", "悦", "克", "競", "姉", "妹", "珠", "殊", "序", "秩", "迭", "喜", "善", "繕", "憾", "恨", "惜", "措", "借", "錯", "曽", "増", "層", "憎", "僧", "贈", "賄", "賂", "賦", "賊", "帯", "滞", "渋", "摂", "為", "偽", "参", "惨", "呂", "侶", "宮", "営", "蛍", "栄", "誉", "挙", "拳", "桜", "妥", "咲", "茎", "径", "怪", "軽", "経", "斉", "斎", "済", "剤", "剖", "陪", "培", "賠", "貼", "粘", "衡", "換", "喚", "絶", "免", "逸", "勉", "晩", "許", "象", "像", "彫", "景", "影", "撮", "就", "涼", "鯨", "隔", "融", "肖", "消", "硝", "梢", "削", "宵", "宴", "郷", "響", "城", "誠", "盛", "旺", "盆", "蓋", "盗", "盟", "塩", "傷", "揚", "暢", "陽", "陰", "隠", "穏", "穂", "稲", "愁", "裁", "載", "栽", "赦", "跡", "踪", "痕", "蹴", "踊", "踏", "躍", "濯", "奇", "寄", "騎", "椅", "崎", "埼", "岬", "模", "膜", "漠", "幕", "墓", "募", "暮", "添", "恭", "暴", "爆", "沿", "礎", "疑", "凝", "擬", "倣", "似", "俺", "庵", "僕", "撲", "叩", "伐", "閥", "闘", "闇", "閑", "脈", "派", "缶", "揺", "謡", "遥", "陶", "陳", "陣", "陥", "隆", "降", "峰", "縫", "蜂", "蜜", "密", "秘", "欧", "枢", "殴", "駆", "馳", "騒", "旭", "旦", "但", "担", "亘", "恒", "垣", "宣", "喧", "嘩", "唾", "壷", "坪", "畔", "衆", "伊", "君", "群", "郡", "那", "邦", "郊", "効", "絞", "搾", "紋", "菊", "帝", "締", "諦", "享", "郭", "亭", "停", "昆", "混", "皆", "階", "陛", "陸", "睦", "勢", "熱", "熟", "塾", "陵", "菱", "俊", "唆", "筈", "暑", "署", "賭", "諸", "儲", "緒", "翁", "婆", "姿", "恣", "妄", "萎", "妻", "凄", "章", "彰", "障", "辛", "辣", "辞", "壁", "璧", "癖", "避", "幸", "服", "報", "執", "摯", "達", "朗", "浪", "娯", "誤", "富", "副", "幅", "福", "祉", "禍", "渦", "鍋", "蘭", "欄", "潤", "淵", "滑", "稽", "肩", "脅", "肯", "双", "江", "湾", "港", "選", "択", "沢", "訳", "釈", "敷", "傲", "贅", "審", "藩", "翻", "翔", "査", "租", "粗", "阻", "狙", "宜", "畳", "甲", "乙", "柄", "押", "抽", "捜", "届", "宙", "笛", "袖", "襟", "衿", "裾", "据", "握", "揃", "撫", "託", "宅", "詫", "宇", "芋", "寿", "鋳", "銘", "鏡", "境", "環", "還", "盾", "循", "巡", "這", "逓", "息", "憩", "鼻", "孔", "臭", "嗅", "奥", "尖", "突", "窒", "窃", "衝", "契", "喫", "潔", "侮", "梅", "悔", "敏", "繁", "繋", "茂", "橋", "矯", "稿", "縞", "箋", "残", "銭", "践", "浅", "洩", "壮", "荘", "装", "冥", "暗", "韻", "損", "捕", "挿", "補", "浦", "哺", "舗", "掴", "捉", "促", "筆", "津", "律", "逮", "建", "健", "康", "庸", "粛", "繍", "唐", "糖", "粧", "糧", "粉", "紛", "糾", "粋", "砕", "枠", "酔", "醒", "酬", "酷", "凡", "凧", "帆", "汎", "恐", "怖", "築", "尋", "訊", "諮", "抗", "航", "坑", "拝", "耕", "耗", "崇", "灰", "炭", "岸", "岩", "崩", "嵐", "崖", "催", "焦", "礁", "奮", "奪", "隻", "獲", "穫", "護", "譲", "嬢", "醸", "壌", "壊", "懐", "徳", "聴", "恥", "羞", "爵", "侯", "喉", "候", "修", "悠", "是", "提", "堤", "題", "匙", "冒", "唱", "晶", "帽", "棟", "凍", "氷", "永", "泳", "詠", "札", "枚", "杯", "析", "折", "挫", "捻", "誓", "逝", "哲", "暫", "斥", "訴", "訟", "究", "窮", "極", "函", "探", "深", "慄", "惧", "慎", "鎮", "填", "婚", "囚", "困", "梱", "因", "姻", "咽", "恩", "菌", "漢", "嘆", "勤", "謹", "僅", "索", "牽", "牢", "啓", "庶", "遮", "燕", "雀", "劣", "抄", "秒", "妙", "沙", "汰", "煎", "炒", "炊", "焚", "薪", "乃", "之", "此", "其", "乏", "芝", "及", "扱", "級", "吸", "吹", "呼", "吐", "叶", "叱", "叫", "吟", "含", "琴", "迷", "謎", "逆", "遡", "塑", "勲", "薫", "芳", "香", "秀", "誘", "拐", "透", "携", "雄", "雌", "些", "柴", "紫", "髪", "髭", "詐", "欺", "棋", "碁", "甚", "勘", "堪", "匹", "匠", "匿", "諾", "乞", "乾", "幹", "操", "燥", "繰", "藻", "噴", "墳", "憤", "牙", "芽", "雅", "邪", "既", "概", "慨", "苗", "描", "猫", "兆", "眺", "逃", "桃", "跳", "挑", "拙", "屈", "掘", "堀", "封", "筒", "管", "棺", "轄", "洞", "窟", "淫", "妊", "娠", "唇", "辱", "襲", "伏", "吠", "噛", "班", "斑", "輩", "悲", "忽", "惚", "猿", "哀", "衰", "衷", "喪", "忌", "卓", "悼", "貞", "偵", "覇", "覆", "履", "属", "嘱", "偶", "隅", "隙", "遇", "愚", "曹", "遭", "槽", "妨", "坊", "傍", "於", "房", "扉", "雇", "顧", "屑", "糞", "尿", "泌", "尻", "炉", "窯", "釜", "爺", "窪", "佳", "涯", "暇", "霞", "雰", "霧", "露", "霜", "箱", "籍", "貫", "慣", "頂", "戴", "項", "頃", "傾", "頑", "頒", "頓", "顕", "領", "頻", "順", "馴", "訓", "須", "額", "頼", "瀬", "峡", "狭", "挟", "頬", "顎", "煩", "患", "疾", "痴", "疫", "痢", "瘍", "癌", "痩", "疲", "被", "披", "抜", "控", "扶", "抹", "拓", "拷", "楼", "壇", "塔", "搭", "寡", "飾", "飽", "餓", "飢", "机", "冗", "冠", "離", "胸", "悩", "脳", "臓", "胃", "炎", "談", "淡", "災", "肝", "肺", "胆", "腺", "胞", "腸", "胎", "腰", "肘", "膝", "股", "肢", "脇", "脂", "肪", "肌", "膚", "慮", "虐", "劇", "虚", "虜", "勇", "繊", "緻", "嘘", "噂", "樽", "距", "拒", "嬉", "鼓", "樹", "膨", "脹", "張", "帳", "腫", "肥", "把", "誇", "覧", "監", "鑑", "艦", "濫", "藍", "賢", "腎", "堅", "緊", "勃", "励", "栃", "茨", "羨", "歳", "戚", "叔", "淑", "寂", "督", "奴", "努", "怒", "隷", "款", "殻", "穀", "臼", "廉", "鎌", "嫌", "謙", "遜", "亀", "練", "錬", "鍛", "鉱", "銅", "鉛", "銑", "鋼", "綱", "網", "縄", "鉢", "鎖", "絆", "鍵", "錠", "鈴", "鐘", "瞳", "憧", "卑", "碑", "痺", "鬼", "塊", "醜", "魂", "魅", "魔", "畏", "刷", "擦", "摩", "磨", "凹", "凸", "奉", "奏", "棒", "捧", "耐", "霊", "需", "濡", "端", "壱", "尼", "泥", "漏", "氾", "某", "謀", "媒", "尉", "慰", "酵", "酢", "釣", "畜", "蓄", "玄", "眩", "喩", "鬱", "舵", "幻", "幽", "幼", "稚", "維", "推", "堆", "椎", "脊", "雛", "誰", "唯", "鳴", "刻", "劾", "核", "骸", "咳", "該", "診", "珍", "瓦", "併", "瓶", "屏", "餅", "餌", "呑", "沃", "妖", "呪", "艶", "慈", "滋", "擁", "腐", "微", "徴", "懲", "殆", "姫", "如", "茹", "婿", "娘", "塚", "豪", "蒙", "懇", "貌", "逐", "遂", "随", "怠", "佐", "弄", "嘲", "弊", "幣", "朋", "棚", "柵", "栓", "詮", "塞", "藤", "騰", "麺", "拉", "厘", "挨", "曖", "瑠", "嫉", "妬", "鹿", "塵", "麗", "慶", "兜", "鼠", "溺", "褐", "葛", "篤", "罠", "烏", "鴨", "鳩", "鷹", "鷲", "桑", "蚕", "蝶", "虹"];

        const colors = ["#183473", "#c5322b", "#336949", "#000000"];
        const grid = document.getElementById('kanjiGrid');

        let colorGrid = [];
        let numRows, numColumns;
        let gridItems = [];

        function isValidColor(row, col, color) {
            for (let i = -1; i <= 1; i++) {
                for (let j = -1; j <= 1; j++) {
                    if (i === 0 && j === 0) continue;
                    const newRow = row + i;
                    const newCol = col + j;
                    if (newRow >= 0 && newRow < numRows && newCol >= 0 && newCol < numColumns) {
                        if (colorGrid[newRow][newCol] === color) {
                            return false;
                        }
                    }
                }
            }
            return true;
        }

        function colorCell(row, col) {
            if (col === numColumns) {
                col = 0;
                row++;
            }
            if (row === numRows) {
                return true;
            }
            for (let colorIndex = 0; colorIndex < colors.length; colorIndex++) {
                if (isValidColor(row, col, colorIndex)) {
                    colorGrid[row][col] = colorIndex;
                    if (colorCell(row, col + 1)) {
                        return true;
                    }
                    colorGrid[row][col] = -1;
                }
            }
            return false;
        }

        const shuffledKanji = kanji.slice().sort(() => Math.random() - 0.5);
        let kanjiIndex = 0;

        function shuffleGrid() {
            const changes = [];
            for (let row = 0; row < numRows; row++) {
                for (let col = 0; col < numColumns; col++) {
                    const validColors = [];
                    for (let i = 0; i < colors.length; i++) {
                        if (isValidColor(row, col, i)) {
                            validColors.push(i);
                        }
                    }
                    const newColorIndex = validColors[Math.floor(Math.random() * validColors.length)];
                    if (newColorIndex !== colorGrid[row][col]) {
                        colorGrid[row][col] = newColorIndex;
                        changes.push([row * numColumns + col, colors[newColorIndex]]);
                    }

                    if (Math.random() < 0.90) { // 10% chance to change kanji
                        kanjiIndex = (kanjiIndex + 1) % shuffledKanji.length;
                        changes.push([row * numColumns + col, null, shuffledKanji[kanjiIndex]]);
                    }
                }
            }
            return changes;
        }

        function applyChanges(changes) {
            for (const [index, color, character] of changes) {
                if (color) {
                    gridItems[index].style.backgroundColor = color;
                }
                if (character) {
                    gridItems[index].textContent = character;
                }
            }
        }

        function resizeGrid() {
            grid.innerHTML = '';
            gridItems = [];
            const gridComputedStyle = window.getComputedStyle(grid);
            numColumns = Math.floor(parseFloat(gridComputedStyle.width) / 50);
            numRows = Math.floor(parseFloat(gridComputedStyle.height) / 50);
            colorGrid = Array(numRows).fill().map(() => Array(numColumns).fill(-1));

            if (colorCell(0, 0)) {
                console.log("Successfully colored the grid!");
            } else {
                console.log("Failed to color the grid with four colors.");
            }

            for (let i = 0; i < numRows * numColumns; i++) {
                const div = document.createElement('div');
                div.className = 'grid-item';
                div.textContent = shuffledKanji[i % shuffledKanji.length];
                div.style.backgroundColor = colors[colorGrid[Math.floor(i / numColumns)][i % numColumns]];

                // Add click event to navigate to page3.html when clicking on the third cell (index 2)
                if (i === 2) {
                    div.addEventListener('click', () => {
                        window.location.href = 'page3.html';
                    });
                }

                grid.appendChild(div);
                gridItems.push(div);
            }
        }

        resizeGrid();
        window.addEventListener('resize', resizeGrid);


        // Debounce function to limit the frequency of shuffle
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Mouse move event to trigger shuffling
        const handleMouseMove = debounce(() => {
            const changes = shuffleGrid();
            requestAnimationFrame(() => applyChanges(changes));
        }, 1); // Adjust the delay as needed (200ms in this case)

        window.addEventListener('mousemove', handleMouseMove);

    </script>



</body>